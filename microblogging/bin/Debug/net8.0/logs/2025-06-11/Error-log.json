{ "time": "2025-06-11 21:10:27.8878", "level": "ERROR", "method": "POST", "appname": "Microblogging.API", "machinename": "NMOUSA", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "url": https://localhost:7040/api/Users/Login, "IP": ::1, "message": "Failed executing DbCommand (11ms) [Parameters=[@__Username_0='?' (Size = 100)], CommandType='Text', CommandTimeout='30']\r\nSELECT TOP(1) [r].[ID], [r].[FK_UserId], [r].[RefreshToken]\r\nFROM [RefreshToken] AS [r]\r\nINNER JOIN [Users] AS [u] ON [r].[FK_UserId] = [u].[Id]\r\nWHERE [u].[Username] = @__Username_0 " }
{ "time": "2025-06-11 21:10:27.9578", "level": "ERROR", "method": "POST", "appname": "Microblogging.API", "machinename": "NMOUSA", "logger": "Microsoft.EntityFrameworkCore.Query", "url": https://localhost:7040/api/Users/Login, "IP": ::1, "message": "An exception occurred while iterating over the results of a query for context type 'Microblogging.Data.Entities.microbloggingContext'.\r\nSystem.InvalidOperationException: There is already an open DataReader associated with this Connection which must be closed first.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() System.InvalidOperationException: There is already an open DataReader associated with this Connection which must be closed first.    at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)    at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state) --- End of stack trace from previous location ---    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)    at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread) --- End of stack trace from previous location ---    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)    at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)    at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)    at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" }
{ "time": "2025-06-11 21:10:53.6828", "level": "ERROR", "appname": "Microblogging.API", "machinename": "NMOUSA", "logger": "Microsoft.EntityFrameworkCore.Database.Command", "message": "Failed executing DbCommand (50ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']\r\nSET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshToken] ([FK_UserId], [RefreshToken])\r\nOUTPUT INSERTED.[ID]\r\nVALUES (@p0, @p1); " }
{ "time": "2025-06-11 21:46:57.7721", "level": "ERROR", "method": "POST", "appname": "Microblogging.API", "machinename": "NMOUSA", "logger": "Microsoft.EntityFrameworkCore.Query", "url": https://localhost:7040/api/Users/Login, "IP": ::1, "message": "An exception occurred while iterating over the results of a query for context type 'Microblogging.Data.Entities.microbloggingContext'.\r\nSystem.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.    at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()    at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" }
